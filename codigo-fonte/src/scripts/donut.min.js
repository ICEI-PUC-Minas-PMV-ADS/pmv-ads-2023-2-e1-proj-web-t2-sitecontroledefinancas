!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.donut=b()}(this,function(){var a=document,b=Math,c=a.documentMode<9,d={},e=0,f=function(d){var r,s,t,e=a.createElement("div"),g=d.size||100,h=d.data||[{value:1}],i=d.weight||20,k=d.colors||["#555"],l=d.el,m=g/2,n=b.PI,o=b.sin,p=b.cos,q=0,u=function(a,b){for(j in b)a.setAttribute(j,b[j])};for(r=0;r<h.length;r++)q+=h[r].value;if(e.className="donut",e.style.width=e.style.height=g+"px",c){g-=i;var x,y,v=void 0!==d.fault?d.fault:i/g*3,w=-v;for(r=0;r<h.length;r++)s=h[r].value/q,t=a.createElement("<v:arc>"),y=a.createElement("<v:fill>"),y.opacity=0,t.appendChild(y),x=t.style,x.top=x.left=i/2+"px",x.width=x.height=g+"px",u(t,{startangle:w-v,endangle:w=w+360*s+v,strokecolor:k[r%k.length],fillcolor:"none",strokeweight:i+"px","data-name":h[r].name,class:"donut-arc"}),f.data(t,h[r]),e.appendChild(t)}else{var z="http://www.w3.org/2000/svg",A=a.createElementNS(z,"svg"),w=-n/2,B=m-i/2;for(A.setAttribute("height",g+"px"),A.setAttribute("width",g+"px"),e.appendChild(A),r=0;r<h.length;r++){s=h[r].value/q,s=1===s?.9999:s,t=a.createElementNS(z,"path");var C=s*n*2,D=C+w,E=(D-w)%(2*n)>n?1:0,F=m+p(w)*B,G=m+o(w)*B,H=m+p(D)*B,I=m+o(D)*B;w=D,u(t,{d:["M",F,G,"A",B,B,0,E,1,H,I].join(" "),stroke:k[r%k.length],"stroke-width":i,fill:"none","data-name":h[r].name,class:"donut-arc"}),f.data(t,h[r]),A.appendChild(t)}}return l&&l.appendChild(e),e};return c&&(a.namespaces.add("v","urn:schemas-microsoft-com:vml"),a.createStyleSheet().cssText="v\\:arc,v\\:fill{behavior:url(#default#VML);display:inline-block;position:absolute;}"),f.data=function(a,b){return void 0===b?d[a._DONUT]:(d[a._DONUT=a._DONUT||++e]=b,a)},f.setColor=function(a,b){return c?a.strokecolor=b:a.setAttribute("stroke",b),a},f});
